// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.209.6/containers/debian
{
	"name": "Octobur",
	"dockerComposeFile": "docker-compose.yml",
	"service": "app",
	"workspaceFolder": "/octobur",
	"settings": {
		"crystal-lang.implementations": true,
		"crystal-lang.completion": true,
		"crystal-lang.hover": true,
		"crystal-lang.server": "/home/vscode/.crystalline/crystalline",
		"editor.codeActionsOnSave": {
			"source.organizeImports": true
		},
		"editor.formatOnSave": true,
		"files.autoSave": "onFocusChange",
		"files.eol": "\n",
		"files.insertFinalNewline": true,
		"files.trimFinalNewlines": true,
		"files.trimTrailingWhitespace": true,
		"git.enableCommitSigning": true,
		"terminal.integrated.profiles.linux": {
			"zsh": {
				"path": "/bin/zsh"
			}
		},
		"terminal.integrated.defaultProfile.linux": "zsh"
	},
	"extensions": [
		"crystal-lang-tools.crystal-lang",
		"veelenga.crystal-ameba",
		"ms-azuretools.vscode-docker",
		"editorconfig.editorconfig",
		"ckolkman.vscode-postgres",
		"christian-kohler.path-intellisense"
	],
	"forwardPorts": [
		3000,
		5432
	],
	"postCreateCommand": "shards build",
	"remoteUser": "vscode",
	"features": {
		"docker-in-docker": "latest"
	}
}